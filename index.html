<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png+xml" href="/icon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Keagan Rieder</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2YCBHS70HF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2YCBHS70HF');
</script>

<!-- tracking -->
<script>
  // Only run after gtag has been defined
  window.addEventListener('load', function () {
    if (typeof gtag !== 'function') return;

    const urlParams = new URLSearchParams(window.location.search);
    const rawCompany = urlParams.get('src');

    if (!rawCompany) return;

    const company = rawCompany.trim(); // or .toLowerCase() if you prefer

    console.log('Company source:', company);

    // Custom event with a parameter
    gtag('event', 'company_visit', {
      company_name: company
    });

    // Optional: set a user property
    gtag('set', 'user_properties', {
      company_name: company
    });
  });
</script>
